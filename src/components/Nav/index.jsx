import React, { useState } from 'react'
import {NavLink} from "react-router-dom"
import { useAuthentication } from '../../hooks/useAuthentication'
import styles from "./style.module.css"
const Nav = () => {
    const [dialogBox, setDialogBox] = useState("")
    const {logout} = useAuthentication()
    const [openMenu, setOpenMenu] = useState(false)

    const handleCloseMenu = (e) =>{
        setOpenMenu(false)
    }
    const handleOpenMenu = (e) =>{
        setOpenMenu(true)
    }
  return (
    <>
        <button onClick={handleOpenMenu} className={styles.btn_menu + " btn_menu " + styles.btn_open_menu}>
            <span></span>
            <span></span>
            <span></span>
        </button>
        <nav className={ styles.nav_container + " " + (openMenu ? styles.open : styles.close) }>
        <button onClick={handleCloseMenu} className={styles.btn_menu + " btn_menu " + styles.btn_close_menu}>
            <span></span>
            <span></span>
        </button>
            <div className={styles.thumbnail}></div>
            <ul>
                <li>
                    <NavLink to="/perfil">
                        <svg width="19" height="24" viewBox="0 0 19 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.5 15.8087C14.6521 15.8087 19 16.6547 19 19.9188C19 23.184 14.6236 24 9.5 24C4.34907 24 0 23.154 0 19.89C0 16.6247 4.37639 15.8087 9.5 15.8087ZM9.5 0C12.9902 0 15.7866 2.82483 15.7866 6.34926C15.7866 9.8737 12.9902 12.6997 9.5 12.6997C6.011 12.6997 3.21339 9.8737 3.21339 6.34926C3.21339 2.82483 6.011 0 9.5 0Z" fill="#26232E"/>
                        </svg>
                        <span>Meu perfil</span>
                    </NavLink>
                </li>
                <li>
                    <NavLink to="/home">
                        <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.68238 22.528V18.8587C7.68238 17.9221 8.42041 17.1628 9.33082 17.1628H12.6588C13.096 17.1628 13.5153 17.3414 13.8244 17.6595C14.1336 17.9776 14.3073 18.4089 14.3073 18.8587V22.528C14.3045 22.9174 14.4529 23.2918 14.7196 23.5682C14.9863 23.8446 15.3491 24 15.7276 24H17.9981C19.0585 24.0028 20.0764 23.5714 20.8272 22.801C21.578 22.0305 22 20.9844 22 19.8934V9.44023C22 8.55895 21.6203 7.72301 20.9632 7.1576L13.2394 0.811042C11.8958 -0.301726 9.97076 -0.265797 8.66729 0.896374L1.1197 7.1576C0.431594 7.70634 0.0203237 8.54476 0 9.44023V19.8827C0 22.1566 1.7917 24 4.00188 24H6.22055C7.00668 24 7.64558 23.3474 7.65127 22.5387L7.68238 22.528Z" fill="#26232E"/>
                        </svg>
                        <span>Home</span>
                    </NavLink>
                </li>
                <li>
                    <NavLink to="/explorer">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.10411 13.7638C8.79613 13.7638 10.1522 15.1331 10.1522 16.8371V20.928C10.1522 22.62 8.79613 24 7.10411 24H3.04805C1.36802 24 0 22.62 0 20.928V16.8371C0 15.1331 1.36802 13.7638 3.04805 13.7638H7.10411ZM20.9524 13.7638C22.6325 13.7638 24.0005 15.1331 24.0005 16.8371V20.928C24.0005 22.62 22.6325 24 20.9524 24H16.8964C15.2043 24 13.8483 22.62 13.8483 20.928V16.8371C13.8483 15.1331 15.2043 13.7638 16.8964 13.7638H20.9524ZM7.10411 0C8.79613 0 10.1522 1.38002 10.1522 3.07325V7.16411C10.1522 8.86813 8.79613 10.2362 7.10411 10.2362H3.04805C1.36802 10.2362 0 8.86813 0 7.16411V3.07325C0 1.38002 1.36802 0 3.04805 0H7.10411ZM20.9524 0C22.6325 0 24.0005 1.38002 24.0005 3.07325V7.16411C24.0005 8.86813 22.6325 10.2362 20.9524 10.2362H16.8964C15.2043 10.2362 13.8483 8.86813 13.8483 7.16411V3.07325C13.8483 1.38002 15.2043 0 16.8964 0H20.9524Z" fill="#26232E"/>
                        </svg>
                        <span>Explorar</span>
                    </NavLink>
                </li>
                <li>
                    <button onClick={() => setDialogBox("show")}>
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.3913 0C14.3704 0 16.8 2.388 16.8 5.328V11.076H9.47442C8.94942 11.076 8.5343 11.484 8.5343 12C8.5343 12.504 8.94942 12.924 9.47442 12.924H16.8V18.66C16.8 21.6 14.3703 24 11.3669 24H5.42093C2.42965 24 0 21.612 0 18.672V5.34C0 2.388 2.44186 0 5.43314 0H11.3913ZM19.8482 7.86024C20.2082 7.48824 20.7962 7.48824 21.1562 7.84824L24.6602 11.3402C24.8402 11.5202 24.9362 11.7482 24.9362 12.0002C24.9362 12.2402 24.8402 12.4802 24.6602 12.6482L21.1562 16.1402C20.9762 16.3202 20.7362 16.4162 20.5082 16.4162C20.2682 16.4162 20.0282 16.3202 19.8482 16.1402C19.4882 15.7802 19.4882 15.1922 19.8482 14.8322L21.7682 12.9242L16.8 12.924V11.076L21.7682 11.0762L19.8482 9.16824C19.4882 8.80824 19.4882 8.22024 19.8482 7.86024Z" fill="#26232E"/>
                    </svg>

                        <span>Log out</span>
                    </button>
                </li>
            </ul>
            <svg viewBox="0 0 119 45" className={styles.svg_footer} fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M57.0939 6.20677C56.924 5.91855 56.9228 5.56109 57.0908 5.27177L59.3504 1.3802C59.7075 0.765325 60.5956 0.765691 60.9521 1.38086L73.5115 23.0519C73.8692 23.6691 73.4238 24.442 72.7104 24.442H68.2744C67.9457 24.442 67.6416 24.2676 67.4755 23.9839L63.9192 17.91C63.7531 17.6263 63.449 17.4519 63.1202 17.4519H59.8127C59.0996 17.4519 58.6542 16.6798 59.0113 16.0625L60.6681 13.1981C60.8354 12.909 60.8339 12.5522 60.6643 12.2645L57.0939 6.20677Z" fill="#1C1924"/>
                <path d="M55.2414 8.49333C55.5957 7.88191 56.4768 7.87679 56.8381 8.48407L59.0862 12.2621C59.2582 12.5511 59.2599 12.9107 59.0907 13.2014L56.6173 17.4492C56.2579 18.0665 56.7031 18.8409 57.4174 18.8409H62.3245C62.6534 18.8409 62.9576 19.0154 63.1236 19.2992L65.3176 23.0488C65.6787 23.666 65.2336 24.4422 64.5185 24.4422H47.6065C46.8931 24.4422 46.4478 23.6694 46.8054 23.0522L55.2414 8.49333Z" fill="#393640"/>
                <path d="M8.536 42H9.796L5.98 33.6H4.792L0.988 42H2.224L3.148 39.9H7.612L8.536 42ZM3.568 38.94L5.38 34.824L7.192 38.94H3.568ZM11.0491 42H16.7971V40.956H12.2491V33.6H11.0491V42ZM18.1741 42H19.3741V33.6H18.1741V42ZM24.3369 42.096C26.5569 42.096 27.5889 40.992 27.5889 39.708C27.5889 36.624 22.5009 37.908 22.5009 35.856C22.5009 35.124 23.1129 34.524 24.5409 34.524C25.2849 34.524 26.1129 34.74 26.8449 35.208L27.2409 34.248C26.5449 33.768 25.5249 33.504 24.5409 33.504C22.3329 33.504 21.3249 34.608 21.3249 35.904C21.3249 39.024 26.4129 37.728 26.4129 39.78C26.4129 40.512 25.7889 41.076 24.3369 41.076C23.2569 41.076 22.1889 40.668 21.5649 40.104L21.1209 41.04C21.7929 41.664 23.0529 42.096 24.3369 42.096ZM31.79 42.096C34.01 42.096 35.042 40.992 35.042 39.708C35.042 36.624 29.954 37.908 29.954 35.856C29.954 35.124 30.566 34.524 31.994 34.524C32.738 34.524 33.566 34.74 34.298 35.208L34.694 34.248C33.998 33.768 32.978 33.504 31.994 33.504C29.786 33.504 28.778 34.608 28.778 35.904C28.778 39.024 33.866 37.728 33.866 39.78C33.866 40.512 33.242 41.076 31.79 41.076C30.71 41.076 29.642 40.668 29.018 40.104L28.574 41.04C29.246 41.664 30.506 42.096 31.79 42.096ZM40.5872 42.096C43.1432 42.096 45.0392 40.272 45.0392 37.8C45.0392 35.328 43.1432 33.504 40.5872 33.504C38.0072 33.504 36.1112 35.34 36.1112 37.8C36.1112 40.26 38.0072 42.096 40.5872 42.096ZM40.5872 41.028C38.7032 41.028 37.3112 39.66 37.3112 37.8C37.3112 35.94 38.7032 34.572 40.5872 34.572C42.4472 34.572 43.8392 35.94 43.8392 37.8C43.8392 39.66 42.4472 41.028 40.5872 41.028ZM52.8973 33.6V39.864L47.8573 33.6H46.8733V42H48.0733V35.736L53.1133 42H54.0973V33.6H52.8973ZM56.6116 42H60.1516C62.8516 42 64.6876 40.296 64.6876 37.8C64.6876 35.304 62.8516 33.6 60.1516 33.6H56.6116V42ZM57.8116 40.956V34.644H60.0796C62.1556 34.644 63.4876 35.916 63.4876 37.8C63.4876 39.684 62.1556 40.956 60.0796 40.956H57.8116ZM70.3176 42.096C72.8736 42.096 74.7696 40.272 74.7696 37.8C74.7696 35.328 72.8736 33.504 70.3176 33.504C67.7376 33.504 65.8416 35.34 65.8416 37.8C65.8416 40.26 67.7376 42.096 70.3176 42.096ZM70.3176 41.028C68.4336 41.028 67.0416 39.66 67.0416 37.8C67.0416 35.94 68.4336 34.572 70.3176 34.572C72.1776 34.572 73.5696 35.94 73.5696 37.8C73.5696 39.66 72.1776 41.028 70.3176 41.028ZM82.5318 34.644V33.6H76.6038V42H77.8038V38.604H82.0158V37.572H77.8038V34.644H82.5318ZM91.1449 42L89.1529 39.18C90.3289 38.76 91.0009 37.824 91.0009 36.528C91.0009 34.704 89.6809 33.6 87.4969 33.6H84.2209V42H85.4209V39.444H87.4969C87.6769 39.444 87.8569 39.432 88.0249 39.42L89.8369 42H91.1449ZM87.4609 38.424H85.4209V34.644H87.4609C88.9969 34.644 89.8009 35.328 89.8009 36.528C89.8009 37.728 88.9969 38.424 87.4609 38.424ZM96.7317 42.096C99.2877 42.096 101.184 40.272 101.184 37.8C101.184 35.328 99.2877 33.504 96.7317 33.504C94.1517 33.504 92.2557 35.34 92.2557 37.8C92.2557 40.26 94.1517 42.096 96.7317 42.096ZM96.7317 41.028C94.8477 41.028 93.4557 39.66 93.4557 37.8C93.4557 35.94 94.8477 34.572 96.7317 34.572C98.5917 34.572 99.9837 35.94 99.9837 37.8C99.9837 39.66 98.5917 41.028 96.7317 41.028ZM109.042 33.6V39.864L104.002 33.6H103.018V42H104.218V35.736L109.258 42H110.242V33.6H109.042ZM114.424 42H115.612V34.644H118.492V33.6H111.544V34.644H114.424V42Z" fill="#393640"/>
            </svg>
        </nav>

        {/* Pop up de logout */}
        <div className={styles.logout_dialog_box_container + " " + (dialogBox === "show" ? (styles.show) : (styles.hide))}>
            <div className={styles.logout_dialog_box}>
                <h4>Deseja mesmo sair?</h4>
                <button className={styles.btn_dialog} onClick={logout}>Sim, sair</button>
                <button className={styles.btn_dialog} onClick={() => setDialogBox("")}>Cancelar</button>
            </div>
        </div>
    </>
  )
}

export default Nav